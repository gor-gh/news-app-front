{"ast":null,"code":"import _classCallCheck from\"/home/gor/WebstormProjects/news-app/news-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/gor/WebstormProjects/news-app/news-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/gor/WebstormProjects/news-app/news-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/gor/WebstormProjects/news-app/news-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import{client}from'./Client';import{capitalize,searchText}from'./helpers';import Header from'./components/Header/Header';import Login from'./components/Login/Login';import Logout from'./components/Logout';import HomePage from'./components/HomePage/HomePage';import CategoryPage from\"./components/CategoryPage/CategoryPage\";import Article from\"./components/Article/Article\";import PrivateRoute from\"./components/PrivateRoute\";import{Route,Redirect,Switch}from'react-router-dom';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={_loggedIn:false,searchResults:[],newses:[]};_this.loggedIn=function(){_this.setState({_loggedIn:true},function(){if(client.isLoggedIn()){client.getNewses(function(fetchedNewses){_this.setState({newses:fetchedNewses});});}});};_this.loggedOut=function(){_this.setState({_loggedIn:false,newses:[],searchResults:[]});};_this.performSearch=function(value){var result=_this.state.newses.filter(function(news){return searchText(news.title,value);});_this.setState({searchResults:result});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(client.isLoggedIn()){this.setState({_loggedIn:true});client.getNewses(function(fetchedNewses){_this2.setState({newses:fetchedNewses});});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"App pb-4\"},/*#__PURE__*/React.createElement(Header,{onSearch:this.performSearch,searchResults:this.state.searchResults,logoutCallback:this.loggedOut,isLoggedIn:this.state._loggedIn}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/logout\",component:Logout}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/articles/:articleId\",component:function component(_ref){var match=_ref.match;var article=_this3.state.newses.find(function(news){return news._id===match.params.articleId;});if(!article)return null;return/*#__PURE__*/React.createElement(Article,{id:article._id,title:article.title,content:article.content,imgUrl:article.imgUrl,category:article.category,createdAt:article.createdAt,author:article.author,source:article.sourceUrl,description:article.description});}}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/categories/:categName\",component:function component(_ref2){var match=_ref2.match;var categoryNewses=_this3.state.newses.filter(function(news){return news.category===match.params.categName;});if(!categoryNewses.length)return/*#__PURE__*/React.createElement(\"div\",{className:\"text-center no_content\"},\"There is no article in \\xAB\",capitalize(match.params.categName),\"\\xBB Category.\");return/*#__PURE__*/React.createElement(CategoryPage,{newses:categoryNewses,category:match.params.categName});}}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",render:function render(props){return/*#__PURE__*/React.createElement(Login,Object.assign({},props,{loggedInCallback:_this3.loggedIn}));}}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/\",component:function component(){return/*#__PURE__*/React.createElement(HomePage,{newses:_this3.state.newses});}}),/*#__PURE__*/React.createElement(Route,{render:function render(){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}})));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/gor/WebstormProjects/news-app/news-app-front/src/App.js"],"names":["React","client","capitalize","searchText","Header","Login","Logout","HomePage","CategoryPage","Article","PrivateRoute","Route","Redirect","Switch","App","state","_loggedIn","searchResults","newses","loggedIn","setState","isLoggedIn","getNewses","fetchedNewses","loggedOut","performSearch","value","result","filter","news","title","match","article","find","_id","params","articleId","content","imgUrl","category","createdAt","author","sourceUrl","description","categoryNewses","categName","length","props","Component"],"mappings":"opBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,OAAQC,MAAR,KAAqB,UAArB,CACA,OAAQC,UAAR,CAAoBC,UAApB,KAAqC,WAArC,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gCAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wCAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,OAAQC,KAAR,CAAcC,QAAd,CAAwBC,MAAxB,KAAqC,kBAArC,C,GAEOC,CAAAA,G,2TACHC,K,CAAQ,CACJC,SAAS,CAAE,KADP,CAEJC,aAAa,CAAE,EAFX,CAGJC,MAAM,CAAE,EAHJ,C,OAcRC,Q,CAAW,UAAM,CACb,MAAKC,QAAL,CAAc,CAACJ,SAAS,CAAE,IAAZ,CAAd,CAAgC,UAAM,CAClC,GAAGf,MAAM,CAACoB,UAAP,EAAH,CAAuB,CACnBpB,MAAM,CAACqB,SAAP,CAAiB,SAAAC,aAAa,CAAI,CAC9B,MAAKH,QAAL,CAAc,CAACF,MAAM,CAAEK,aAAT,CAAd,EACH,CAFD,EAGH,CACJ,CAND,EAOH,C,OACDC,S,CAAY,UAAM,CACd,MAAKJ,QAAL,CAAc,CACVJ,SAAS,CAAE,KADD,CAEVE,MAAM,CAAE,EAFE,CAGVD,aAAa,CAAE,EAHL,CAAd,EAKH,C,OACDQ,a,CAAgB,SAACC,KAAD,CAAW,CACvB,GAAMC,CAAAA,MAAM,CAAG,MAAKZ,KAAL,CAAWG,MAAX,CAAkBU,MAAlB,CAAyB,SAAAC,IAAI,CAAI,CAC5C,MAAO1B,CAAAA,UAAU,CAAC0B,IAAI,CAACC,KAAN,CAAYJ,KAAZ,CAAjB,CACH,CAFc,CAAf,CAGA,MAAKN,QAAL,CAAc,CAACH,aAAa,CAAEU,MAAhB,CAAd,EACH,C,4FA9BmB,iBAChB,GAAG1B,MAAM,CAACoB,UAAP,EAAH,CAAuB,CACnB,KAAKD,QAAL,CAAc,CAACJ,SAAS,CAAE,IAAZ,CAAd,EACAf,MAAM,CAACqB,SAAP,CAAiB,SAAAC,aAAa,CAAI,CAC9B,MAAI,CAACH,QAAL,CAAc,CAACF,MAAM,CAAEK,aAAT,CAAd,EACH,CAFD,EAGH,CACJ,C,uCAwBO,iBAEN,mBACI,2BAAK,SAAS,CAAC,UAAf,eACI,oBAAC,MAAD,EACI,QAAQ,CAAE,KAAKE,aADnB,CAEI,aAAa,CAAE,KAAKV,KAAL,CAAWE,aAF9B,CAGI,cAAc,CAAE,KAAKO,SAHzB,CAII,UAAU,CAAE,KAAKT,KAAL,CAAWC,SAJ3B,EADJ,cAOI,oBAAC,MAAD,mBACI,oBAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,SAAS,CAAEV,MAAjC,EADJ,cAEI,oBAAC,YAAD,EAAc,IAAI,CAAC,sBAAnB,CAA0C,SAAS,CAAE,wBAAa,IAAXyB,CAAAA,KAAW,MAAXA,KAAW,CAC9D,GAAMC,CAAAA,OAAO,CAAG,MAAI,CAACjB,KAAL,CAAWG,MAAX,CAAkBe,IAAlB,CAAuB,SAAAJ,IAAI,QAAIA,CAAAA,IAAI,CAACK,GAAL,GAAaH,KAAK,CAACI,MAAN,CAAaC,SAA9B,EAA3B,CAAhB,CACA,GAAG,CAACJ,OAAJ,CAAa,MAAO,KAAP,CACb,mBACI,oBAAC,OAAD,EACI,EAAE,CAAEA,OAAO,CAACE,GADhB,CAEI,KAAK,CAAEF,OAAO,CAACF,KAFnB,CAGI,OAAO,CAAEE,OAAO,CAACK,OAHrB,CAII,MAAM,CAAEL,OAAO,CAACM,MAJpB,CAKI,QAAQ,CAAEN,OAAO,CAACO,QALtB,CAMI,SAAS,CAAEP,OAAO,CAACQ,SANvB,CAOI,MAAM,CAAER,OAAO,CAACS,MAPpB,CAQI,MAAM,CAAET,OAAO,CAACU,SARpB,CASI,WAAW,CAAEV,OAAO,CAACW,WATzB,EADJ,CAaH,CAhBD,EAFJ,cAmBI,oBAAC,YAAD,EAAc,IAAI,CAAC,wBAAnB,CAA4C,SAAS,CAAE,yBAAa,IAAXZ,CAAAA,KAAW,OAAXA,KAAW,CAChE,GAAMa,CAAAA,cAAc,CAAG,MAAI,CAAC7B,KAAL,CAAWG,MAAX,CAAkBU,MAAlB,CAAyB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACU,QAAL,GAAkBR,KAAK,CAACI,MAAN,CAAaU,SAAnC,EAA7B,CAAvB,CACA,GAAG,CAACD,cAAc,CAACE,MAAnB,CAA2B,mBACvB,2BAAK,SAAS,CAAC,wBAAf,gCAC6B5C,UAAU,CAAC6B,KAAK,CAACI,MAAN,CAAaU,SAAd,CADvC,kBADuB,CAK3B,mBACI,oBAAC,YAAD,EACI,MAAM,CAAED,cADZ,CAEI,QAAQ,CAAEb,KAAK,CAACI,MAAN,CAAaU,SAF3B,EADJ,CAMH,CAbD,EAnBJ,cAkCI,oBAAC,KAAD,EACI,IAAI,CAAC,QADT,CAEI,MAAM,CAAE,gBAACE,KAAD,CAAW,CACf,mBACI,oBAAC,KAAD,kBACQA,KADR,EAEI,gBAAgB,CAAE,MAAI,CAAC5B,QAF3B,GADJ,CAMH,CATL,EAlCJ,cA6CI,oBAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,GAAzB,CAA6B,SAAS,CAAE,wCAAM,oBAAC,QAAD,EAAU,MAAM,CAAE,MAAI,CAACJ,KAAL,CAAWG,MAA7B,EAAN,EAAxC,EA7CJ,cA+CI,oBAAC,KAAD,EAAO,MAAM,CAAE,qCACX,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EADW,EAAf,EA/CJ,CAPJ,CADJ,CA6DD,C,iBApGclB,KAAK,CAACgD,S,EAuGzB,cAAelC,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {client} from './Client';\nimport {capitalize, searchText} from './helpers';\nimport Header from './components/Header/Header';\nimport Login from './components/Login/Login';\nimport Logout from './components/Logout';\nimport HomePage from './components/HomePage/HomePage';\nimport CategoryPage from \"./components/CategoryPage/CategoryPage\";\nimport Article from \"./components/Article/Article\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport {Route,Redirect, Switch} from 'react-router-dom';\n\nclass  App extends React.Component {\n    state = {\n        _loggedIn: false,\n        searchResults: [],\n        newses: []\n    }\n    componentDidMount() {\n        if(client.isLoggedIn()){\n            this.setState({_loggedIn: true})\n            client.getNewses(fetchedNewses => {\n                this.setState({newses: fetchedNewses});\n            })\n        }\n    }\n\n    loggedIn = () => {\n        this.setState({_loggedIn: true},() => {\n            if(client.isLoggedIn()){\n                client.getNewses(fetchedNewses => {\n                    this.setState({newses: fetchedNewses});\n                })\n            }\n        })\n    }\n    loggedOut = () => {\n        this.setState({\n            _loggedIn: false,\n            newses: [],\n            searchResults: []\n        });\n    }\n    performSearch = (value) => {\n        const result = this.state.newses.filter(news => {\n            return searchText(news.title,value);\n        });\n        this.setState({searchResults: result});\n    }\n    render(){\n\n      return (\n          <div className=\"App pb-4\">\n              <Header\n                  onSearch={this.performSearch}\n                  searchResults={this.state.searchResults}\n                  logoutCallback={this.loggedOut}\n                  isLoggedIn={this.state._loggedIn}\n              />\n              <Switch>\n                  <Route path='/logout' component={Logout} />\n                  <PrivateRoute path='/articles/:articleId' component={({match}) => {\n                      const article = this.state.newses.find(news => news._id === match.params.articleId);\n                      if(!article) return null;\n                      return (\n                          <Article\n                              id={article._id}\n                              title={article.title}\n                              content={article.content}\n                              imgUrl={article.imgUrl}\n                              category={article.category}\n                              createdAt={article.createdAt}\n                              author={article.author}\n                              source={article.sourceUrl}\n                              description={article.description}\n                          />\n                      )\n                  }}/>\n                  <PrivateRoute path='/categories/:categName' component={({match}) => {\n                      const categoryNewses = this.state.newses.filter(news => news.category === match.params.categName);\n                      if(!categoryNewses.length) return (\n                          <div className='text-center no_content'>\n                              There is no article in «{capitalize(match.params.categName)}» Category.\n                          </div>\n                      );\n                      return (\n                          <CategoryPage\n                              newses={categoryNewses}\n                              category={match.params.categName}\n                          />\n                      )\n                  }}/>\n\n                  <Route\n                      path='/login'\n                      render={(props) => {\n                          return (\n                              <Login\n                                  {...props}\n                                  loggedInCallback={this.loggedIn}\n                              />\n                          )\n                      }}/>\n\n                  <PrivateRoute exact path='/' component={() => <HomePage newses={this.state.newses} />}/>\n\n                  <Route render={() => (\n                      <Redirect to='/'/>\n                  )}/>\n              </Switch>\n          </div>\n      );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}