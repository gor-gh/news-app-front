{"ast":null,"code":"import _classCallCheck from\"/home/gor/WebstormProjects/news-app/news-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/gor/WebstormProjects/news-app/news-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/gor/WebstormProjects/news-app/news-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/gor/WebstormProjects/news-app/news-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./ContactForm.css';import{isValidEmail}from\"../../helpers\";import FormField from'../FormField/FormField';import Loading from'../Loading/Loading';var ContactForm=/*#__PURE__*/function(_React$Component){_inherits(ContactForm,_React$Component);var _super=_createSuper(ContactForm);function ContactForm(){var _this;_classCallCheck(this,ContactForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={_isLoading:false,fields:{name:'',email:'',message:''},fieldErrors:{}};_this.onFormSubmit=function(e){e.preventDefault();var randTime=Math.floor(Math.random()*1001)+1000;_this.setState({_isLoading:true},function(){setTimeout(function(){_this.setState({_isLoading:false},function(){_this.props.closeModal();});},randTime);});};_this.onInputChange=function(_ref){var name=_ref.name,value=_ref.value,error=_ref.error;var data=Object.assign({},_this.state.fields);var dataErrors=Object.assign({},_this.state.fieldErrors);data[name]=value;dataErrors[name]=error;_this.setState({fields:data,fieldErrors:dataErrors});};_this.validate=function(){var data=_this.state.fields;var dataErrors=_this.state.fieldErrors;var errorMessages=Object.keys(dataErrors).filter(function(key){return dataErrors[key];});return!data.name||!data.email||!data.message||errorMessages.length;};return _this;}_createClass(ContactForm,[{key:\"render\",value:function render(){if(this.state._isLoading){return/*#__PURE__*/React.createElement(Loading,{velocity:\"normal\"});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onFormSubmit},/*#__PURE__*/React.createElement(FormField,{name:\"name\",type:\"text\",onChange:this.onInputChange,placeholder:\"Type your name...\",validate:function validate(val){return val?false:\"Name is required\";}}),/*#__PURE__*/React.createElement(FormField,{name:\"email\",type:\"text\",onChange:this.onInputChange,placeholder:\"Type your email...\",validate:function validate(val){return isValidEmail(val)?false:\"Email is invalid\";}}),/*#__PURE__*/React.createElement(FormField,{name:\"message\",type:\"textarea\",onChange:this.onInputChange,placeholder:\"Write a message...\",validate:function validate(val){return val?false:\"Message is required\";}}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Send\",className:\"btn mx-auto submit_btn\",disabled:this.validate()||this.state._isLoading})));}}]);return ContactForm;}(React.Component);export default ContactForm;","map":{"version":3,"sources":["/home/gor/WebstormProjects/news-app/news-app-front/src/components/ContactForm/ContactForm.js"],"names":["React","isValidEmail","FormField","Loading","ContactForm","state","_isLoading","fields","name","email","message","fieldErrors","onFormSubmit","e","preventDefault","randTime","Math","floor","random","setState","setTimeout","props","closeModal","onInputChange","value","error","data","Object","assign","dataErrors","validate","errorMessages","keys","filter","key","length","val","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './ContactForm.css';\nimport {isValidEmail} from \"../../helpers\";\nimport FormField from '../FormField/FormField'\nimport Loading from '../Loading/Loading';\n\n\nclass ContactForm extends React.Component{\n    state = {\n        _isLoading: false,\n        fields: {\n            name: '',\n            email: '',\n            message: ''\n        },\n        fieldErrors: {}\n    }\n    onFormSubmit = (e) => {\n        e.preventDefault();\n        const randTime = Math.floor((Math.random() * 1001)) + 1000;\n        this.setState({_isLoading: true},() => {\n            setTimeout(() => {\n                this.setState({_isLoading: false}, () => {\n                    this.props.closeModal();\n                })\n            },randTime);\n        })\n    }\n    onInputChange = ({name, value, error}) => {\n        const data = Object.assign({}, this.state.fields);\n        const dataErrors = Object.assign({},this.state.fieldErrors);\n\n        data[name] = value;\n        dataErrors[name] = error;\n\n        this.setState({fields: data, fieldErrors: dataErrors});\n    }\n    validate = () => {\n        const data = this.state.fields;\n        const dataErrors = this.state.fieldErrors;\n        const errorMessages = Object.keys(dataErrors).filter(key => dataErrors[key]);\n        return !data.name || !data.email || !data.message || errorMessages.length;\n    }\n    render(){\n        if(this.state._isLoading){\n            return (\n                <Loading\n                    velocity='normal'\n                />\n            )\n        }\n        return (\n            <div>\n                <form onSubmit={this.onFormSubmit}>\n                    <FormField\n                        name='name'\n                        type='text'\n                        onChange={this.onInputChange}\n                        placeholder='Type your name...'\n                        validate={(val) => (val ? false : \"Name is required\")}\n                    />\n                    <FormField\n                        name='email'\n                        type='text'\n                        onChange={this.onInputChange}\n                        placeholder='Type your email...'\n                        validate={(val) => (isValidEmail(val) ? false : \"Email is invalid\")}\n                    />\n                    <FormField\n                        name='message'\n                        type='textarea'\n                        onChange={this.onInputChange}\n                        placeholder='Write a message...'\n                        validate={(val) => (val ? false : \"Message is required\")}\n                    />\n                    <input\n                        type=\"submit\"\n                        value=\"Send\"\n                        className='btn mx-auto submit_btn'\n                        disabled={this.validate() || this.state._isLoading}/>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default ContactForm;"]},"metadata":{},"sourceType":"module"}