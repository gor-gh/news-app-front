{"ast":null,"code":"var _jsxFileName = \"/home/gor/WebstormProjects/news-app/news-app-front/src/components/LoginForm/LoginForm.js\";\nimport React from 'react';\nimport './LoginForm.css';\nimport PropTypes from 'prop-types';\nimport FormField from '../FormField/FormField';\n\nclass LoginForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      fields: {\n        username: '',\n        password: ''\n      },\n      rememberMe: false,\n      fieldErrors: {}\n    };\n\n    this.onFormSubmit = e => {\n      e.preventDefault();\n      const loginData = this.state.fields;\n      if (this.validate()) return;\n      this.props.login(loginData);\n      this.setState();\n    };\n\n    this.onInputChange = ({\n      name,\n      value,\n      error\n    }) => {\n      const fields = Object.assign({}, this.state.fields);\n      const fieldErrors = Object.assign({}, this.state.fieldErrors);\n      fields[name] = value;\n      fieldErrors[name] = error;\n      this.setState({\n        fields,\n        fieldErrors\n      });\n    };\n\n    this.toggleRememberMe = e => {\n      this.setState(prevState => {\n        return {\n          rememberMe: !prevState.rememberMe\n        };\n      });\n    };\n\n    this.validate = () => {\n      const fields = this.state.fields;\n      const fieldErrors = this.state.fieldErrors;\n      const errorMessages = Object.keys(fieldErrors).filter(key => fieldErrors[key]);\n      return !fields.username || !fields.password || errorMessages.length;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `login_form_cont ${this.props.longInputs ? 'longInputs' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"pb-3 login_header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Login to get access\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormField, {\n      name: \"username\",\n      type: \"text\",\n      value: this.state.fields.username,\n      onChange: this.onInputChange,\n      placeholder: \"Username\",\n      validate: val => val ? false : \"Username is required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(FormField, {\n      name: \"password\",\n      onChange: this.onInputChange,\n      value: this.state.fields.password,\n      type: \"password\",\n      placeholder: \"Password\",\n      validate: val => val ? false : \"Password is required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"rememberMe\",\n      value: this.state.rememberMe,\n      onChange: this.toggleRememberMe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 24\n      }\n    }, \"Remember me\"), this.props.loginFailed ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, \"Failed to login. Please try again\") : null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Login\",\n      className: \" login_btn\",\n      disabled: this.validate(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nLoginForm.propTypes = {\n  longInputs: PropTypes.bool,\n  login: PropTypes.func.isRequired,\n  loginFailed: PropTypes.bool.isRequired\n};\nexport default LoginForm;","map":{"version":3,"sources":["/home/gor/WebstormProjects/news-app/news-app-front/src/components/LoginForm/LoginForm.js"],"names":["React","PropTypes","FormField","LoginForm","Component","state","fields","username","password","rememberMe","fieldErrors","onFormSubmit","e","preventDefault","loginData","validate","props","login","setState","onInputChange","name","value","error","Object","assign","toggleRememberMe","prevState","errorMessages","keys","filter","key","length","render","longInputs","val","loginFailed","propTypes","bool","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './LoginForm.css';\nimport PropTypes from 'prop-types';\nimport FormField from '../FormField/FormField';\n\nclass LoginForm extends React.Component{\n    static propTypes = {\n        longInputs: PropTypes.bool,\n        login: PropTypes.func.isRequired,\n        loginFailed: PropTypes.bool.isRequired\n    }\n    state = {\n        fields: {\n            username: '',\n            password: ''\n        },\n        rememberMe: false,\n        fieldErrors: {}\n    }\n\n    onFormSubmit = (e) => {\n        e.preventDefault();\n        const loginData = this.state.fields;\n\n        if(this.validate()) return;\n\n        this.props.login(loginData);\n        this.setState()\n\n    }\n    onInputChange = ({name, value, error}) => {\n        const fields = Object.assign({}, this.state.fields);\n        const fieldErrors = Object.assign({}, this.state.fieldErrors);\n\n        fields[name] = value;\n        fieldErrors[name] = error;\n\n        this.setState({fields, fieldErrors});\n    }\n    toggleRememberMe = (e) => {\n        this.setState((prevState) => {\n            return {rememberMe: !prevState.rememberMe}\n        })\n    }\n    validate = () => {\n        const fields = this.state.fields;\n        const fieldErrors = this.state.fieldErrors;\n        const errorMessages = Object.keys(fieldErrors).filter(key => fieldErrors[key]);\n\n        return !fields.username || !fields.password || errorMessages.length;\n    }\n    render(){\n        return (\n            <div className={`login_form_cont ${this.props.longInputs ? 'longInputs' : ''}`}>\n                <h2 className='pb-3 login_header'>Login to get access</h2>\n                <form \n                    onSubmit={this.onFormSubmit}\n                >\n                    <FormField \n                        name='username'\n                        type='text'\n                        value={this.state.fields.username}\n                        onChange={this.onInputChange}\n                        placeholder='Username'\n                        validate={(val) => val ? false : \"Username is required\"}\n                    />\n                    <FormField\n                        name='password'\n                        onChange={this.onInputChange}\n                        value={this.state.fields.password}\n                        type='password'\n                        placeholder='Password'\n                        validate={(val) => val ? false : \"Password is required\"}\n                    />\n                    <input\n                        type=\"checkbox\"\n                        name=\"rememberMe\"\n                        value={this.state.rememberMe}\n                        onChange={this.toggleRememberMe}\n                    /> <span>Remember me</span>\n                    {\n                        (this.props.loginFailed) ? (\n                            <div className='d-flex justify-content-center pb-2'>\n                                Failed to login. Please try again\n                            </div>\n                        ) : (\n                            null\n                        )\n                    }\n                    <input\n                        type=\"submit\"\n                        value=\"Login\"\n                        className=' login_btn'\n                        disabled={this.validate()}\n                    />\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}