{"ast":null,"code":"const LOCAL_STORAGE_KEY = 'my_key_for_tokens';\n\nclass Client {\n  constructor() {\n    this.isLoggedIn = () => !!this.token;\n\n    this.login = data => {\n      const dataString = JSON.stringify(data);\n      fetch('/users/login', {\n        method: 'POST',\n        body: dataString\n      });\n    };\n\n    this.localeStorageIsEnabled = typeof localStorage !== 'undefined';\n\n    if (this.localeStorageIsEnabled) {\n      this.token = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n      if (!this.token) {\n        this.token = sessionStorage.getItem(LOCAL_STORAGE_KEY);\n      }\n    }\n  }\n\n}\n\nexport const client = new Client();","map":{"version":3,"sources":["/home/gor/WebstormProjects/news-app/news-app-front/src/Client.js"],"names":["LOCAL_STORAGE_KEY","Client","constructor","isLoggedIn","token","login","data","dataString","JSON","stringify","fetch","method","body","localeStorageIsEnabled","localStorage","getItem","sessionStorage","client"],"mappings":"AAAA,MAAMA,iBAAiB,GAAG,mBAA1B;;AAGA,MAAMC,MAAN,CAAY;AACRC,EAAAA,WAAW,GAAE;AAAA,SASbC,UATa,GASA,MAAM,CAAC,CAAC,KAAKC,KATb;;AAAA,SAUbC,KAVa,GAUJC,IAAD,IAAU;AACd,YAAMC,UAAU,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAnB;AACAI,MAAAA,KAAK,CAAC,cAAD,EAAgB;AACjBC,QAAAA,MAAM,EAAE,MADS;AAEjBC,QAAAA,IAAI,EAAEL;AAFW,OAAhB,CAAL;AAIH,KAhBY;;AACT,SAAKM,sBAAL,GAA+B,OAAOC,YAAP,KAAwB,WAAvD;;AACA,QAAG,KAAKD,sBAAR,EAA+B;AAC3B,WAAKT,KAAL,GAAaU,YAAY,CAACC,OAAb,CAAqBf,iBAArB,CAAb;;AACA,UAAG,CAAC,KAAKI,KAAT,EAAgB;AACZ,aAAKA,KAAL,GAAaY,cAAc,CAACD,OAAf,CAAuBf,iBAAvB,CAAb;AACH;AACJ;AACJ;;AATO;;AAoBZ,OAAO,MAAMiB,MAAM,GAAG,IAAIhB,MAAJ,EAAf","sourcesContent":["const LOCAL_STORAGE_KEY = 'my_key_for_tokens';\n\n\nclass Client{\n    constructor(){\n        this.localeStorageIsEnabled = (typeof localStorage !== 'undefined');\n        if(this.localeStorageIsEnabled){\n            this.token = localStorage.getItem(LOCAL_STORAGE_KEY)\n            if(!this.token) {\n                this.token = sessionStorage.getItem(LOCAL_STORAGE_KEY);\n            }\n        }\n    }\n    isLoggedIn = () => !!this.token;\n    login = (data) => {\n        const dataString = JSON.stringify(data);\n        fetch('/users/login',{\n            method: 'POST',\n            body: dataString\n        })\n    }\n}\n\nexport const client = new Client();"]},"metadata":{},"sourceType":"module"}